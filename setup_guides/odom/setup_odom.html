<!DOCTYPE html>
<html class="writer-html5" lang="zh" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>设置里程计 &mdash; Navigation 2 1.0.0 文档</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/nav2_48x48.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="Setting Up Sensors" href="../sensors/setup_sensors.html" />
    <link rel="prev" title="Setting Up The URDF" href="../urdf/setup_urdf.html" />

<link rel="stylesheet" href="../../_static/tcs_theme.css" type="text/css" />


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Navigation 2
            <img src="../../_static/nav2_logo_powered.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                latest
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">开始使用</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/index.html#installation">安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/index.html#running-the-example">运行示例</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started/index.html#navigating">导航</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../development_guides/index.html">Development Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../development_guides/build_docs/index.html">Build and Install</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../development_guides/build_docs/index.html#install">Install</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development_guides/build_docs/index.html#build">Build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../development_guides/build_docs/index.html#released-distribution-binaries">Released Distribution Binaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../development_guides/build_docs/index.html#rolling-development-source">Rolling Development Source</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../development_guides/build_docs/index.html#docker-container-images">Docker Container Images</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../development_guides/build_docs/index.html#generate-doxygen">Generate Doxygen</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development_guides/build_docs/index.html#help">Help</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../development_guides/build_docs/build_troubleshooting_guide.html">Build Troubleshooting Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../development_guides/devcontainer_docs/index.html">Dev Containers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../development_guides/devcontainer_docs/devcontainer_guide.html">Dev Container Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../development_guides/devcontainer_docs/devcontainer_guide.html#creating-dev-containers">Creating Dev Containers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../development_guides/devcontainer_docs/devcontainer_guide.html#using-dev-containers">Using Dev Containers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../development_guides/devcontainer_docs/index.html#what-why-how">What, Why, How?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../development_guides/devcontainer_docs/index.html#what-is-a-dev-container">What is a Dev Container?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../development_guides/devcontainer_docs/index.html#why-use-a-dev-container">Why use a Dev Container?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../development_guides/devcontainer_docs/index.html#how-do-dev-containers-work">How do Dev Containers work?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../development_guides/devcontainer_docs/index.html#prerequisites">前提条件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development_guides/devcontainer_docs/index.html#getting-started">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development_guides/devcontainer_docs/index.html#security">Security</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../development_guides/involvement_docs/index.html">Getting Involved</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../development_guides/involvement_docs/index.html#id1">Getting Involved</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development_guides/involvement_docs/index.html#process">Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development_guides/involvement_docs/index.html#licensing">Licensing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development_guides/involvement_docs/index.html#developer-certification-of-origin-dco">Developer Certification of Origin (DCO)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/index.html">导航概念</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/index.html#ros-2">ROS 2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/index.html#action-server">动作服务器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/index.html#lifecycle-nodes-and-bond">生命周期节点和 Bond</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/index.html#behavior-trees">行为树</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/index.html#navigation-servers">导航服务器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/index.html#planner-controller-smoother-and-recovery-servers">规划器、控制器、平滑器和恢复服务器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/index.html#planners">规划器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/index.html#controllers">控制器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/index.html#behaviors">行为</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/index.html#smoothers">平滑器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/index.html#waypoint-following">路径点跟随</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/index.html#state-estimation">状态估计</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/index.html#standards">标准</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/index.html#global-positioning-localization-and-slam">全局定位：定位和SLAM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/index.html#odometry">里程计</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/index.html#environmental-representation">环境表示</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/index.html#costmaps-and-layers">代价地图和层</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/index.html#costmap-filters">代价地图过滤器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../concepts/index.html#other-forms">其他形式</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/index.html#nav2-academic-overview">Nav2学术概述</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">首次机器人设置指南</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../transformation/setup_transforms.html">Setting Up Transformations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../transformation/setup_transforms.html#transforms-introduction">Transforms Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../transformation/setup_transforms.html#static-transform-publisher-demo">Static Transform Publisher Demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../transformation/setup_transforms.html#transforms-in-navigation2">Transforms in Navigation2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../transformation/setup_transforms.html#conclusion">结论</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../urdf/setup_urdf.html">Setting Up The URDF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../urdf/setup_urdf.html#urdf-and-the-robot-state-publisher">URDF and the Robot State Publisher</a></li>
<li class="toctree-l3"><a class="reference internal" href="../urdf/setup_urdf.html#setting-up-the-environment">Setting Up the Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../urdf/setup_urdf.html#writing-the-urdf">Writing the URDF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../urdf/setup_urdf.html#build-and-launch">Build and Launch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../urdf/setup_urdf.html#visualization-using-rviz">Visualization using RVIZ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../urdf/setup_urdf.html#adding-physical-properties">Adding Physical Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="../urdf/setup_urdf.html#conclusion">结论</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">设置里程计</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#odometry-introduction">里程计简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-up-odometry-on-your-robot">设置机器人的里程计</a></li>
<li class="toctree-l3"><a class="reference internal" href="#simulating-an-odometry-system-using-gazebo">使用 Gazebo 模拟 Odometry 系统</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#setup-and-prerequisites">设置和先决条件</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-gazebo-plugins-to-a-urdf">向 URDF 添加 Gazebo 插件</a></li>
<li class="toctree-l4"><a class="reference internal" href="#launch-and-build-files">启动和构建文件</a></li>
<li class="toctree-l4"><a class="reference internal" href="#build-run-and-verification">构建、运行和验证</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#robot-localization-demo">机器人定位演示</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configuring-robot-localization">配置机器人定位</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">启动和构建文件</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">构建、运行和验证</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#conclusion">结论</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sensors/setup_sensors.html">Setting Up Sensors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../sensors/setup_sensors.html#sensor-introduction">Sensor Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../sensors/setup_sensors.html#common-sensor-messages">Common Sensor Messages</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sensors/setup_sensors.html#simulating-sensors-using-gazebo">Simulating Sensors using Gazebo</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../sensors/setup_sensors.html#adding-gazebo-plugins-to-a-urdf">向 URDF 添加 Gazebo 插件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sensors/setup_sensors.html#launch-and-build-files">启动和构建文件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sensors/setup_sensors.html#build-run-and-verification">构建、运行和验证</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sensors/setup_sensors.html#mapping-and-localization">Mapping and Localization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sensors/setup_sensors.html#costmap-2d">二维代价地图</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../sensors/setup_sensors.html#configuring-nav2-costmap-2d">Configuring nav2_costmap_2d</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sensors/setup_sensors.html#id2">构建、运行和验证</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../sensors/setup_sensors.html#conclusion">结论</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../footprint/setup_footprint.html">设置机器人的轮廓</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../footprint/setup_footprint.html#footprint-introduction">轮廓介绍</a></li>
<li class="toctree-l3"><a class="reference internal" href="../footprint/setup_footprint.html#configuring-the-robot-s-footprint">配置机器人的轮廓</a></li>
<li class="toctree-l3"><a class="reference internal" href="../footprint/setup_footprint.html#build-run-and-verification">构建、运行和验证</a></li>
<li class="toctree-l3"><a class="reference internal" href="../footprint/setup_footprint.html#visualizing-footprint-in-rviz">在RViz中可视化足迹</a></li>
<li class="toctree-l3"><a class="reference internal" href="../footprint/setup_footprint.html#conclusion">结论</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../algorithm/select_algorithm.html">设置导航插件</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../algorithm/select_algorithm.html#planner-and-controller-servers">规划器和控制器服务器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../algorithm/select_algorithm.html#selecting-the-algorithm-plugins">选择算法插件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../algorithm/select_algorithm.html#planner-server">规划器服务器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../algorithm/select_algorithm.html#controller-server">控制器服务器</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../algorithm/select_algorithm.html#conclusion">结论</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">General Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html">Navigating with a Physical Turtlebot 3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#requirements">要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#tutorial-steps"><cite>教程步骤</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#setup-your-enviroment-variables">0- Setup Your Enviroment Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#launch-turtlebot-3">1- Launch Turtlebot 3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#launch-nav2">2- Launch Nav2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#launch-rviz">3-  Launch RVIZ</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#initialize-the-location-of-turtlebot-3">4- Initialize the Location of Turtlebot 3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_on_real_turtlebot3.html#send-a-goal-pose">5-  Send a Goal Pose</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/navigation2_with_slam.html">(SLAM) Navigating While Mapping</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_slam.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_slam.html#requirements">要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_slam.html#tutorial-steps"><cite>教程步骤</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_slam.html#launch-robot-interfaces">0- Launch Robot Interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_slam.html#launch-navigation2">1- Launch Navigation2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_slam.html#launch-slam">2- Launch SLAM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_slam.html#working-with-slam">3- Working with SLAM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_slam.html#getting-started-simplification">4- Getting Started Simplification</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html">(STVL) Using an External Costmap Plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#costmap2d-and-stvl">Costmap2D and STVL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#tutorial-steps"><cite>教程步骤</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#setup">0- Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#install-stvl">1- Install STVL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#modify-navigation2-parameter">1- Modify Navigation2 Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#launch-navigation2">2- Launch Navigation2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_stvl.html#rviz">3-  RVIZ</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/using_groot.html">Groot - Interacting with Behavior Trees</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/using_groot.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/using_groot.html#visualize-behavior-trees">Visualize Behavior Trees</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/using_groot.html#edit-behavior-trees">Edit Behavior Trees</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/using_groot.html#adding-a-custom-node">Adding A Custom Node</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/camera_calibration.html">Camera Calibration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/camera_calibration.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/camera_calibration.html#requirements">要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/camera_calibration.html#tutorial-steps"><cite>教程步骤</cite></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/get_backtrace.html">Get Backtrace in ROS 2 / Nav2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/get_backtrace.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/get_backtrace.html#preliminaries">Preliminaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/get_backtrace.html#from-a-node">From a Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/get_backtrace.html#from-a-launch-file">From a Launch File</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/get_backtrace.html#from-large-project">From Large Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/get_backtrace.html#from-nav2-bringup">From Nav2 Bringup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/get_backtrace.html#automatic-backtrace-on-crash">Automatic backtrace on crash</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/get_profile.html">Profiling in ROS 2 / Nav2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/get_profile.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/get_profile.html#preliminaries">Preliminaries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/get_profile.html#profile-from-a-node">Profile from a Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/get_profile.html#profile-from-a-launch-file">Profile from a Launch File</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/get_profile.html#from-nav2-bringup">From Nav2 Bringup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/get_profile.html#interpreting-results">Interpreting Results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/navigation2_dynamic_point_following.html">Dynamic Object Following</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_dynamic_point_following.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_dynamic_point_following.html#tutorial-steps"><cite>教程步骤</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_dynamic_point_following.html#create-the-behavior-tree">0- Create the Behavior Tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_dynamic_point_following.html#setup-rviz-clicked-point">1- Setup Rviz clicked point</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_dynamic_point_following.html#run-dynamic-object-following-in-nav2-simulation">2- Run Dynamic Object Following in Nav2 Simulation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/navigation2_with_keepout_filter.html">Navigating with Keepout Zones</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_keepout_filter.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_keepout_filter.html#requirements">要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_keepout_filter.html#tutorial-steps"><cite>教程步骤</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_keepout_filter.html#prepare-filter-mask">1. Prepare filter mask</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_keepout_filter.html#configure-costmap-filter-info-publisher-server">2. Configure Costmap Filter Info Publisher Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_keepout_filter.html#enable-keepout-filter">3. Enable Keepout Filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_keepout_filter.html#run-nav2-stack">4. Run Nav2 stack</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/navigation2_with_speed_filter.html">Navigating with Speed Limits</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_speed_filter.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_speed_filter.html#requirements">要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/navigation2_with_speed_filter.html#tutorial-steps"><cite>教程步骤</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_speed_filter.html#prepare-filter-mask">1. Prepare filter mask</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_speed_filter.html#configure-costmap-filter-info-publisher-server">2. Configure Costmap Filter Info Publisher Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_speed_filter.html#enable-speed-filter">3. Enable Speed Filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/navigation2_with_speed_filter.html#run-nav2-stack">4. Run Nav2 stack</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/using_shim_controller.html">Using Rotation Shim Controller</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/using_shim_controller.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/using_shim_controller.html#what-is-the-rotation-shim-controller">What is the Rotation Shim Controller?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/using_shim_controller.html#configuring-rotation-shim-controller">Configuring Rotation Shim Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/using_shim_controller.html#configuring-primary-controller">Configuring Primary Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/using_shim_controller.html#demo-execution">Demo Execution</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/adding_smoother.html">Adding a Smoother to a BT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/adding_smoother.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/adding_smoother.html#requirements">要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/adding_smoother.html#tutorial-steps"><cite>教程步骤</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/adding_smoother.html#familiarization-with-the-smoother-bt-node">0- Familiarization with the Smoother BT Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/adding_smoother.html#specifying-a-smoother-plugin">1- Specifying a Smoother Plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/adding_smoother.html#modifying-your-bt-xml">2- Modifying your BT XML</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/using_collision_monitor.html">Using Collision Monitor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/using_collision_monitor.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/using_collision_monitor.html#requirements">要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/using_collision_monitor.html#configuring-collision-monitor">Configuring Collision Monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/using_collision_monitor.html#preparing-nav2-stack">Preparing Nav2 stack</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/using_collision_monitor.html#demo-execution">Demo Execution</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/adding_a_nav2_task_server.html">Adding a New Nav2 Task Server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/adding_a_nav2_task_server.html#lifecycle-nodes">Lifecycle Nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/adding_a_nav2_task_server.html#composition">Composition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/adding_a_nav2_task_server.html#error-codes">Error codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/adding_a_nav2_task_server.html#conclusion">结论</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/docs/filtering_of_noise-induced_obstacles.html">Filtering of Noise-Induced Obstacles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/filtering_of_noise-induced_obstacles.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/filtering_of_noise-induced_obstacles.html#requirements">要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/filtering_of_noise-induced_obstacles.html#tutorial-steps"><cite>教程步骤</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/filtering_of_noise-induced_obstacles.html#enable-denoise-layer">1. Enable Denoise Layer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tutorials/docs/filtering_of_noise-induced_obstacles.html#run-nav2-stack">2. Run Nav2 stack</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tutorials/docs/filtering_of_noise-induced_obstacles.html#how-it-works">How it works</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../plugin_tutorials/index.html">插件教程</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_costmap2d_plugin.html">编写新的Costmap2D插件</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_costmap2d_plugin.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_costmap2d_plugin.html#requirements">要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_costmap2d_plugin.html#tutorial-steps"><cite>教程步骤</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_costmap2d_plugin.html#write-a-new-costmap2d-plugin">1-编写一个新的Costmap2D插件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_costmap2d_plugin.html#export-and-make-gradientlayer-plugin">2- 导出并制作 GradientLayer 插件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_costmap2d_plugin.html#enable-the-plugin-in-costmap2d">3- 在Costmap2D中启用插件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_costmap2d_plugin.html#run-gradientlayer-plugin">4- 运行GradientLayer插件</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_nav2planner_plugin.html">编写一个新的规划器插件</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_nav2planner_plugin.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_nav2planner_plugin.html#requirements">要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_nav2planner_plugin.html#tutorial-steps"><cite>教程步骤</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_nav2planner_plugin.html#creating-a-new-planner-plugin">1- 创建一个新的规划器插件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_nav2planner_plugin.html#exporting-the-planner-plugin">2- 导出规划器插件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_nav2planner_plugin.html#pass-the-plugin-name-through-params-file">3- 通过参数文件传递插件名称</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_nav2planner_plugin.html#run-straightline-plugin">4- 运行 StraightLine 插件</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_nav2controller_plugin.html">编写新的控制器插件</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_nav2controller_plugin.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_nav2controller_plugin.html#requirements">要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_nav2controller_plugin.html#tutorial-steps"><cite>教程步骤</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_nav2controller_plugin.html#create-a-new-controller-plugin">1- 创建一个新的控制器插件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_nav2controller_plugin.html#exporting-the-controller-plugin">2- 导出控制器插件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_nav2controller_plugin.html#pass-the-plugin-name-through-the-params-file">3- 通过参数文件传递插件名称</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_nav2controller_plugin.html#run-pure-pursuit-controller-plugin">4- 运行 Pure Pursuit Controller 插件。</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_bt_plugin.html">编写新的行为树插件</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_bt_plugin.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_bt_plugin.html#requirements">要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_bt_plugin.html#tutorial-steps"><cite>教程步骤</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_bt_plugin.html#creating-a-new-bt-plugin">1- 创建一个新的BT插件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_bt_plugin.html#exporting-the-planner-plugin">2- 导出规划器插件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_bt_plugin.html#add-plugin-library-name-to-config">3- 将插件库名称添加到配置中</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_bt_plugin.html#run-your-custom-plugin">4- 运行您的自定义插件</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_behavior_plugin.html">编写新的行为插件</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_behavior_plugin.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_behavior_plugin.html#requirements">要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_behavior_plugin.html#tutorial-steps"><cite>教程步骤</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_behavior_plugin.html#creating-a-new-behavior-plugin">1- 创建一个新的行为插件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_behavior_plugin.html#exporting-the-behavior-plugin">2- 导出行为插件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_behavior_plugin.html#pass-the-plugin-name-through-params-file">3- 通过参数文件传递插件名称</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_behavior_plugin.html#run-behavior-plugin">4- 运行行为插件</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_navigator_plugin.html">编写新的导航器插件</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_navigator_plugin.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_navigator_plugin.html#requirements">要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_navigator_plugin.html#tutorial-steps"><cite>教程步骤</cite></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_navigator_plugin.html#create-a-new-navigator-plugin">1- 创建新的导航器插件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_navigator_plugin.html#exporting-the-navigator-plugin">2- 导出导航器插件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_navigator_plugin.html#pass-the-plugin-name-through-the-params-file">3- 通过参数文件传递插件名称</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../plugin_tutorials/docs/writing_new_navigator_plugin.html#run-plugin">4- 运行插件</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/index.html">配置指南</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-bt-navigator.html">行为树导航器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-bt-navigator.html#parameters">参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-bt-navigator.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-bt-xml.html">行为树XML节点</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-bt-xml.html#action-plugins">动作插件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/Wait.html">等待</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/Spin.html">Spin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/BackUp.html">备份</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/DriveOnHeading.html">DriveOnHeading</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/AssistedTeleop.html">辅助遥控</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/ComputePathToPose.html">ComputePathToPose（计算路径到位姿）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/FollowPath.html">FollowPath</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/NavigateToPose.html">NavigateToPose</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/ClearEntireCostmap.html">清除整个成本地图</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/ClearCostmapExceptRegion.html">ClearCostmapExceptRegion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/ClearCostmapAroundRobot.html">ClearCostmapAroundRobot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/ReinitializeGlobalLocalization.html">ReinitializeGlobalLocalization（重新初始化全局定位）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/TruncatePath.html">TruncatePath</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/TruncatePathLocal.html">TruncatePathLocal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/PlannerSelector.html">PlannerSelector（规划器选择器）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/ControllerSelector.html">ControllerSelector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/SmootherSelector.html">SmootherSelector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/GoalCheckerSelector.html">GoalCheckerSelector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/NavigateThroughPoses.html">NavigateThroughPoses</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/ComputePathThroughPoses.html">计算路径通过姿势</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/RemovePassedGoals.html">RemovePassedGoals（移除已通过的目标）</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/CancelControl.html">CancelControl</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/CancelBackUp.html">CancelBackUp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/CancelSpin.html">CancelSpin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/CancelWait.html">取消等待</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/CancelDriveOnHeading.html">CancelDriveOnHeading</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/CancelAssistedTeleop.html">CancelAssistedTeleop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/actions/Smooth.html">平滑路径</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-bt-xml.html#condition-plugins">条件插件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/conditions/GoalReached.html">目标已达成</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/conditions/TransformAvailable.html">可转换</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/conditions/DistanceTraveled.html">DistanceTraveled</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/conditions/GoalUpdated.html">GoalUpdated</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/conditions/GloballyUpdatedGoal.html">GloballyUpdatedGoal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/conditions/InitialPoseReceived.html">接收到初始姿势</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/conditions/IsStuck.html">是否卡住</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/conditions/TimeExpired.html">时间已过期</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/conditions/IsBatteryLow.html">电池是否低电量</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/conditions/IsPathValid.html">路径是否有效</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/conditions/PathExpiringTimer.html">路径到期计时器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/conditions/AreErrorCodesPresent.html">是否存在错误代码</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/conditions/WouldAControllerRecoveryHelp.html">是否需要控制器恢复帮助</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/conditions/WouldAPlannerRecoveryHelp.html">是否需要规划器恢复帮助</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/conditions/WouldASmootherRecoveryHelp.html">WouldASmootherRecoveryHelp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/conditions/IsBatteryCharging.html">电池是否正在充电</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-bt-xml.html#control-plugins">控制插件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/controls/PipelineSequence.html">管道序列</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/controls/RoundRobin.html">RoundRobin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/controls/RecoveryNode.html">恢复节点</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-bt-xml.html#decorator-plugins">装饰器插件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/decorators/RateController.html">RateController</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/decorators/DistanceController.html">DistanceController</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/decorators/SpeedController.html">SpeedController 速度控制器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/decorators/GoalUpdater.html">目标更新器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/decorators/PathLongerOnApproach.html">PathLongerOnApproach</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/bt-plugins/decorators/SingleTrigger.html">SingleTrigger 单触发器</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-bt-xml.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-costmaps.html">二维代价地图</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-costmaps.html#costmap2d-ros-parameters">二维代价地图 ROS 参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-costmaps.html#default-plugins">默认插件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-costmaps.html#plugin-parameters">插件参数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/costmap-plugins/static.html">静态层参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/costmap-plugins/inflation.html">膨胀层参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/costmap-plugins/obstacle.html">障碍物图层参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/costmap-plugins/voxel.html">体素层参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/costmap-plugins/range.html">范围传感器参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/costmap-plugins/denoise.html">降噪层参数</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-costmaps.html#costmap-filters-parameters">成本地图过滤器参数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/costmap-plugins/keepout_filter.html">保护区过滤器参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/costmap-plugins/speed_filter.html">速度过滤器参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/costmap-plugins/binary_filter.html">二值过滤器参数</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-costmaps.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-lifecycle.html">生命周期管理器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-lifecycle.html#parameters">参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-lifecycle.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-planner-server.html">规划器服务器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-planner-server.html#parameters">参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-planner-server.html#default-plugins">默认插件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-planner-server.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-navfn.html">NavFn规划器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-navfn.html#parameters">参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-navfn.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-smac-planner.html">Smac规划器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-smac-planner.html#provided-plugins">Provided Plugins</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/smac/configuring-smac-2d.html">Smac 2D Planner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/smac/configuring-smac-hybrid.html">Smac混合A*规划器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/smac/configuring-smac-lattice.html">Smac状态格规划器</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-smac-planner.html#description">描述</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-thetastar.html">Theta Star Planner</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-thetastar.html#parameters">参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-thetastar.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-controller-server.html">控制器服务器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-controller-server.html#parameters">参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-controller-server.html#provided-plugins">Provided Plugins</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/nav2_controller-plugins/simple_progress_checker.html">SimpleProgressChecker</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/nav2_controller-plugins/pose_progress_checker.html">PoseProgressChecker</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/nav2_controller-plugins/simple_goal_checker.html">SimpleGoalChecker&quot;</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/nav2_controller-plugins/stopped_goal_checker.html">StoppedGoalChecker</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-controller-server.html#default-plugins">默认插件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-controller-server.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-dwb-controller.html">DWB控制器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-dwb-controller.html#controller">控制器</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/dwb-params/controller.html">DWB控制器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/dwb-params/iterator.html">XYTheta 迭代器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/dwb-params/kinematic.html">运动学参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/dwb-params/visualization.html">发布者</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-dwb-controller.html#plugins">插件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/dwb-plugins/limited_accel_generator.html">LimitedAccelGenerator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/dwb-plugins/standard_traj_generator.html">StandardTrajectoryGenerator（标准轨迹生成器）</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-dwb-controller.html#trajectory-critics">轨迹评论家</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/trajectory_critics/base_obstacle.html">BaseObstacleCritic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/trajectory_critics/goal_align.html">GoalAlignCritic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/trajectory_critics/goal_dist.html">GoalDistCritic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/trajectory_critics/obstacle_footprint.html">ObstacleFootprintCritic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/trajectory_critics/oscillation.html">OscillationCritic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/trajectory_critics/path_align.html">PathAlignCritic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/trajectory_critics/path_dist.html">PathDistCritic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/trajectory_critics/prefer_forward.html">PreferForwardCritic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/trajectory_critics/rotate_to_goal.html">RotateToGoalCritic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/trajectory_critics/twirling.html">TwirlingCritic</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-dwb-controller.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-regulated-pp.html">规定纯追踪</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-regulated-pp.html#regulated-pure-pursuit-parameters">规定纯追踪参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-regulated-pp.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html">模型预测路径积分控制器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#mppi-parameters">MPPI 参数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#trajectory-visualization">轨迹可视化</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#path-handler">路径处理器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#ackermann-motion-model">阿克曼运动模型</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#constraint-critic">约束评估器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#goal-angle-critic">目标角度评价器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#goal-critic">目标评估器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#obstacles-critic">障碍物评估器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#path-align-critic">路径对齐评论家</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#path-angle-critic">路径角度评论器</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#path-follow-critic">路径跟随评论家</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#prefer-forward-critic">优先正向评论家</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#twirling-critic">旋转评论家</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#example">示例</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#notes-to-users">用户注意事项</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#general-words-of-wisdom">智慧的一般性言论</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#prediction-horizon-costmap-sizing-and-offsets">预测视野、成本地图尺寸和偏移量</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-mppic.html#obstacle-inflation-layer-and-path-following">障碍物、膨胀层和路径跟踪</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-rotation-shim-controller.html">旋转增益控制器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-rotation-shim-controller.html#rotation-shim-controller-parameters">旋转适配器控制器参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-rotation-shim-controller.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-map-server.html">地图服务器/保存器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-map-server.html#map-saver-parameters">地图保存器参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-map-server.html#map-server-parameters">地图服务器参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-map-server.html#costmap-filter-info-server-parameters">Costmap过滤器信息服务器参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-map-server.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-amcl.html">AMCL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-amcl.html#parameters">参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-amcl.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-behavior-server.html">行为服务器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-behavior-server.html#behavior-server-parameters">Behavior Server参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-behavior-server.html#default-plugins">默认插件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-behavior-server.html#spin-behavior-parameters">旋转行为参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-behavior-server.html#backup-behavior-parameters">后退行为参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-behavior-server.html#driveonheading-behavior-parameters">按目标导航行为参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-behavior-server.html#assistedteleop-behavior-parameters">辅助遥操作行为参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-behavior-server.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-smoother-server.html">平滑服务器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-smoother-server.html#smoother-server-parameters">平滑器服务器参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-smoother-server.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-simple-smoother.html">简单平滑器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-simple-smoother.html#simple-smoother-parameters">简单平滑器参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-simple-smoother.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-savitzky-golay-smoother.html">Savitzky-Golay平滑器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-savitzky-golay-smoother.html#savitzky-golay-smoother-parameters">Savitzky-Golay平滑器参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-savitzky-golay-smoother.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-constrained-smoother.html">约束平滑器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-constrained-smoother.html#smoother-server-parameters">平滑器服务器参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-constrained-smoother.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-velocity-smoother.html">速度平滑器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-velocity-smoother.html#velocity-smoother-parameters">速度平滑器参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-velocity-smoother.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-collision-monitor.html">碰撞监控</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-collision-monitor.html#features">特点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-collision-monitor.html#parameters">参数</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-collision-monitor.html#polygons-parameters">多边形参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/configuring-collision-monitor.html#observation-sources-parameters">观测源参数</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-collision-monitor.html#example">示例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../configuration/packages/configuring-waypoint-follower.html">路径点跟随器</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-waypoint-follower.html#parameters">参数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-waypoint-follower.html#provided-plugins">Provided Plugins</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/nav2_waypoint_follower-plugins/wait_at_waypoint.html">WaitAtWaypoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/nav2_waypoint_follower-plugins/photo_at_waypoint.html">PhotoAtWaypoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../configuration/packages/nav2_waypoint_follower-plugins/input_at_waypoint.html">InputAtWaypoint</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-waypoint-follower.html#default-plugin">默认插件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/packages/configuring-waypoint-follower.html#example">示例</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tuning/index.html">调优指南</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tuning/index.html#inflation-potential-fields">膨胀潜力场</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tuning/index.html#robot-footprint-vs-radius">机器人足迹与半径</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tuning/index.html#rotate-in-place-behavior">就地旋转行为</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tuning/index.html#planner-plugin-selection">规划器插件选择</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tuning/index.html#controller-plugin-selection">控制器插件选择</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tuning/index.html#caching-obstacle-heuristic-in-smac-planners">在 Smac 规划器中缓存障碍物启发式函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tuning/index.html#nav2-launch-options">Nav2 启动选项</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tuning/index.html#other-pages-we-d-love-to-offer">其他我们愿意提供的页面</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../behavior_trees/index.html">Nav2行为树</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../behavior_trees/overview/nav2_specific_nodes.html">导航2特定节点介绍</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../behavior_trees/overview/nav2_specific_nodes.html#action-nodes">动作节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../behavior_trees/overview/nav2_specific_nodes.html#condition-nodes">条件节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../behavior_trees/overview/nav2_specific_nodes.html#decorator-nodes">装饰节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../behavior_trees/overview/nav2_specific_nodes.html#control-pipelinesequence">Control: PipelineSequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../behavior_trees/overview/nav2_specific_nodes.html#control-recovery">控制：恢复</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../behavior_trees/overview/nav2_specific_nodes.html#control-roundrobin">控制：RoundRobin</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../behavior_trees/overview/detailed_behavior_tree_walkthrough.html">详细的行为树遍历</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../behavior_trees/overview/detailed_behavior_tree_walkthrough.html#overview">概述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../behavior_trees/overview/detailed_behavior_tree_walkthrough.html#prerequisites">前提条件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../behavior_trees/overview/detailed_behavior_tree_walkthrough.html#navigate-to-pose-with-replanning-and-recovery">使用重新规划和恢复导航到姿势</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../behavior_trees/overview/detailed_behavior_tree_walkthrough.html#navigation-subtree">导航子树</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../behavior_trees/overview/detailed_behavior_tree_walkthrough.html#recovery-subtree">恢复子树</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../behavior_trees/trees/nav_to_pose_recovery.html">导航到姿势</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../behavior_trees/trees/nav_through_poses_recovery.html">导航到姿态</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../behavior_trees/trees/nav_to_pose_and_pause_near_goal_obstacle.html">导航到姿势并在目标障碍物附近暂停</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../behavior_trees/trees/nav_to_pose_with_consistent_replanning_and_if_path_becomes_invalid.html">使用一致重新规划和如果路径无效则导航到姿态</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../behavior_trees/trees/follow_point.html">跟随动态点</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../behavior_trees/trees/odometry_calibration.html">里程计校准</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins/index.html">导航插件</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.html#behavior-tree-navigators">行为树导航器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.html#costmap-layers">Costmap Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.html#costmap-filters">代价地图过滤器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.html#controllers">控制器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.html#planners">规划器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.html#smoothers">平滑器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.html#behaviors">行为</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.html#waypoint-task-executors">路径点任务执行器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.html#goal-checkers">目标检查器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.html#progress-checkers">进度检查器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.html#behavior-tree-nodes">行为树节点</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../migration/index.html">Migration Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../migration/Dashing.html">Dashing to Eloquent</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Dashing.html#new-packages">New Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Dashing.html#new-plugins">New Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Dashing.html#navigation2-architectural-changes">Navigation2 Architectural Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../migration/Eloquent.html">Eloquent to Foxy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Eloquent.html#general">General</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Eloquent.html#server-updates">Server Updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Eloquent.html#new-plugins">New Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Eloquent.html#map-server-re-work">Map Server Re-Work</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Eloquent.html#new-particle-filter-messages">New Particle Filter Messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Eloquent.html#selection-of-behavior-tree-in-each-navigation-action">Selection of Behavior Tree in each navigation action</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Eloquent.html#followpoint-capability">FollowPoint Capability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Eloquent.html#new-costmap-layer">New Costmap Layer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../migration/Foxy.html">Foxy to Galactic</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#navigatetopose-action-feedback-updates">NavigateToPose Action Feedback updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#navigatetopose-bt-node-interface-changes">NavigateToPose BT-node Interface Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#navigatethroughposes-and-computepaththroughposes-actions-added">NavigateThroughPoses and ComputePathThroughPoses Actions Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#computepathtopose-bt-node-interface-changes">ComputePathToPose BT-node Interface Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#computepathtopose-action-interface-changes">ComputePathToPose Action Interface Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#backup-bt-node-interface-changes">BackUp BT-node Interface Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#backup-recovery-interface-changes">BackUp Recovery Interface Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#nav2-controllers-and-goal-checker-plugin-interface-changes">Nav2 Controllers and Goal Checker Plugin Interface Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#followpath-goal-checker-id-attribute">FollowPath goal_checker_id attribute</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#groot-support">Groot Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#new-plugins">New Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#costmap-filters">代价地图过滤器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#smacplanner">SmacPlanner</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#thetastarplanner">ThetaStarPlanner</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#regulatedpurepursuitcontroller">RegulatedPurePursuitController</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#costmap2d-current-usage">Costmap2D <code class="docutils literal notranslate"><span class="pre">current_</span></code> Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#standard-time-units-in-parameters">Standard time units in parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#ray-tracing-parameters">Ray Tracing Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#obstacle-marking-parameters">Obstacle Marking Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#recovery-action-changes">Recovery Action Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#default-behavior-tree-changes">Default Behavior Tree Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#navfn-planner-parameters">NavFn Planner Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#new-clearcostmapexceptregion-and-clearcostmaparoundrobot-bt-nodes">New ClearCostmapExceptRegion and ClearCostmapAroundRobot BT-nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#new-behavior-tree-nodes">New Behavior Tree Nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#sensor-msgs-pointcloud-to-sensor-msgs-pointcloud2-change">sensor_msgs/PointCloud to sensor_msgs/PointCloud2 Change</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#controllerserver-new-parameter-failure-tolerance">ControllerServer New Parameter failure_tolerance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#removed-bt-xml-launch-configurations">Removed BT XML Launch Configurations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Foxy.html#nav2-rviz-panel-action-feedback-information">Nav2 RViz Panel Action Feedback Information</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../migration/Galactic.html">Galactic to Humble</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#major-improvements-to-smac-planners">Major improvements to Smac Planners</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#simple-python-commander">Simple (Python) Commander</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#reduce-nodes-and-executors">Reduce Nodes and Executors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#api-change-for-nav2-core">API Change for nav2_core</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#extending-the-btservicenode-to-process-service-results">Extending the BtServiceNode to process Service-Results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#including-new-rotation-shim-controller-plugin">Including new Rotation Shim Controller Plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#spawning-the-robot-in-gazebo">Spawning the robot in Gazebo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#recovery-behavior-timeout">Recovery Behavior Timeout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#new-parameter-use-final-approach-orientation-for-the-3-2d-planners">New parameter <code class="docutils literal notranslate"><span class="pre">use_final_approach_orientation</span></code> for the 3 2D planners</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#smacplanner2d-and-theta-fix-goal-orientation-being-ignored">SmacPlanner2D and Theta*: fix goal orientation being ignored</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#smacplanner2d-navfn-and-theta-fix-small-path-corner-cases">SmacPlanner2D, NavFn and Theta*: fix small path corner cases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#change-and-fix-behavior-of-dynamic-parameter-change-detection">Change and fix behavior of dynamic parameter change detection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#dynamic-parameters">Dynamic Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#bt-action-nodes-exception-changes">BT Action Nodes Exception Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#bt-navigator-groot-multiple-navigators">BT Navigator Groot Multiple Navigators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#removed-kinematic-limiting-in-rpp">Removed Kinematic Limiting in RPP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#added-smoother-task-server">Added Smoother Task Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#removed-use-approach-velocity-scaling-param-in-rpp">Removed Use Approach Velocity Scaling Param in RPP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#refactored-amcl-motion-models-as-plugins">Refactored AMCL motion models as plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#dropping-support-for-live-groot-monitoring-of-nav2">Dropping Support for Live Groot Monitoring of Nav2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#replanning-only-if-path-is-invalid">Replanning Only if Path is Invalid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#fix-costmaplayer-cleararea-invert-param-logic">Fix CostmapLayer clearArea invert param logic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#dynamic-composition">Dynamic Composition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#bt-cancel-node">BT Cancel Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#bt-pathlongeronapproach-node">BT PathLongerOnApproach Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#bt-truncatepathlocal-node">BT TruncatePathLocal Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#constrained-smoother">Constrained Smoother</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#replanning-at-a-constant-rate-and-if-the-path-is-invalid">Replanning at a Constant Rate and if the Path is Invalid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#euclidean-distance-2d">Euclidean Distance 2D</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#recovery-to-behavior">Recovery To Behavior</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#respawn-support-in-launch-and-lifecycle-manager">Respawn Support in Launch and Lifecycle Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#new-nav2-velocity-smoother">New Nav2 Velocity Smoother</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#goal-checker-api-changed">Goal Checker API Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Galactic.html#added-assisted-teleop">Added Assisted Teleop</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../migration/Humble.html">Humble to Iron</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#new-behavior-tree-navigator-plugins">New Behavior-Tree Navigator Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#added-collision-monitor">Added Collision Monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#removed-use-sim-time-from-yaml">Removed use_sim_time from yaml</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#run-time-speed-up-of-smac-planner">Run-time Speed up of Smac Planner</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#recursive-refinement-of-smac-and-simple-smoothers">Recursive Refinement of Smac and Simple Smoothers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#simple-commander-python-api">Simple Commander Python API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#smac-planner-start-pose-included-in-path">Smac Planner Start Pose Included in Path</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#parameterizable-collision-checking-in-rpp">Parameterizable Collision Checking in RPP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#expanded-planner-benchmark-tests">Expanded Planner Benchmark Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#smac-planner-path-tolerances">Smac Planner Path Tolerances</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#costmap-2d-node-default-constructor">costmap_2d_node default constructor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#feedback-for-navigation-failures">Feedback for Navigation Failures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#costmap-filters">代价地图过滤器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#savitzky-golay-smoother">Savitzky-Golay平滑器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#changes-to-map-yaml-file-path-for-map-server-node-in-launch">Changes to Map yaml file path for map_server node in Launch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#smootherselector-bt-node">SmootherSelector BT Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#publish-costmap-layers">Publish Costmap Layers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#give-behavior-server-access-to-both-costmaps">Give Behavior Server Access to Both Costmaps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#new-model-predictive-path-integral-controller">New Model Predictive Path Integral Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#behavior-tree-uses-error-codes">Behavior Tree Uses Error Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#load-save-and-loop-waypoints-from-the-nav2-panel-in-rviz">Load, Save and Loop Waypoints from the Nav2 Panel in RViz</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#dwb-forward-vs-reverse-pruning">DWB Forward vs Reverse Pruning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#more-stable-regulation-on-curves-for-long-lookahead-distances">More stable regulation on curves for long lookahead distances</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#publish-collision-monitor-state">Publish Collision Monitor State</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#renamed-ros-parameter-in-collision-monitor">Renamed ROS-parameter in Collision Monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#new-safety-behavior-model-limit-in-collision-monitor">New safety behavior model &quot;limit&quot; in Collision Monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#velocity-smoother-applies-deceleration-when-timeout">Velocity smoother applies deceleration when timeout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#poseprogresschecker-plugin">PoseProgressChecker plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#allow-multiple-goal-checkers-and-change-parameter-progress-checker-plugin-s-name-and-type">Allow multiple goal checkers and change parameter progress_checker_plugin(s) name and type</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#isbatterychargingcondition-bt-node">IsBatteryChargingCondition BT Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#behavior-server-error-codes">Behavior Server Error Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#new-denoise-costmap-layer-plugin">New Denoise Costmap Layer Plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../migration/Humble.html#smacplannerhybrid-viz-expansions-parameter">SmacPlannerHybrid viz_expansions parameter</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../commander_api/index.html">Simple Commander API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../commander_api/index.html#overview">概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commander_api/index.html#id1">Commander API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commander_api/index.html#costmap-api">Costmap API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commander_api/index.html#footprint-collision-checker-api">Footprint Collision Checker API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commander_api/index.html#examples-and-demos">Examples and Demos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap/roadmap.html">Roadmaps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../roadmap/roadmap.html#iron-roadmap">Iron Roadmap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../roadmap/roadmap.html#humble-roadmap">Humble Roadmap</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">关于和联系</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../about/related_projects.html">相关项目</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/ros1_comparison.html">ROS 到 ROS 2 导航</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/index.html#id1">关于</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/index.html#contact">联系方式</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../about/robots.html">Robots Using</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Navigation 2</a>
      </nav>

      <div class="wy-nav-content">

<span style="float: right;" >
    <a class="github-button" href="https://github.com/ros-planning/navigation.ros.org" data-color-scheme="no-preference: light; light: light; dark: dark;" data-size="large" aria-label="Edit ros-planning/navigation.ros.org on GitHub" ">Edit</a>
</span>


        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">首次机器人设置指南</a> &raquo;</li>
      <li>设置里程计</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="setting-up-odometry">
<h1>设置里程计<a class="headerlink" href="#setting-up-odometry" title="永久链接至标题"></a></h1>
<p>在本指南中，我们将介绍如何将我们机器人的里程计系统与Nav2集成。首先，我们将简要介绍里程计，以及需要发布的消息和变换，以确保Nav2的正常运行。接下来，我们将展示如何设置两种不同情况下的里程计。在第一种情况下，我们将展示如何为已有轮式编码器的机器人设置里程计系统。在第二种情况下，我们将在Gazebo中构建一个演示，模拟使用``sam_bot``（我们在上一节中构建的机器人）的正常运行的里程计系统。然后，我们将讨论如何将各种里程计来源融合，以提供平滑的里程计，使用``robot_localization``软件包。最后，我们还将展示如何使用``robot_localization``发布``odom`` =&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>base_link``的变换。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p>本教程中的完整源代码可以在 <a class="reference external" href="https://github.com/ros-planning/navigation2_tutorials/tree/master/sam_bot_description">navigation2_tutorials</a> 存储库的 <code class="docutils literal notranslate"><span class="pre">sam_bot_description</span></code> 包中找到。请注意，该存储库包含完成本指南中所有教程后的完整代码。</p>
</div>
<div class="section" id="odometry-introduction">
<h2>里程计简介<a class="headerlink" href="#odometry-introduction" title="永久链接至标题"></a></h2>
<p>里程计系统根据机器人的运动提供局部精确的姿态和速度估计。里程计信息可以从各种来源获取，例如惯性测量单元 (IMU)、激光雷达 (LIDAR)、雷达 (RADAR)、视觉惯性里程计 (VIO) 和轮子编码器。需要注意的是，IMU会随时间漂移，而轮子编码器会随行驶距离漂移，因此通常将它们结合使用以抵消彼此的负面特征。</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a>odom``坐标系及其相关变换使用机器人的里程计系统发布连续但随时间或距离准确性逐渐降低的定位信息（取决于传感器模态和漂移情况）。尽管如此，机器人仍然可以使用这些信息来导航其周围的环境（例如避免碰撞）。为了获得一致准确的里程计信息，<a href="#id3"><span class="problematic" id="id4">``</span></a>map``坐标系提供了全局准确的信息，用于校正``odom``坐标系。</p>
<p>如前面的指南和 <a class="reference external" href="https://www.ros.org/reps/rep-0105.html">REP 105</a> 中所讨论的那样，<code class="docutils literal notranslate"><span class="pre">odom</span></code> 坐标系与系统的其余部分和 Nav2 通过 <code class="docutils literal notranslate"><span class="pre">odom</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">base_link</span></code> 变换相连。这个变换由 tf2 发布器或像 <code class="docutils literal notranslate"><span class="pre">robot_localization</span></code> 这样的框架发布。<code class="docutils literal notranslate"><span class="pre">robot_localization</span></code> 还提供额外的功能。我们将在后面的章节中详细讨论 <code class="docutils literal notranslate"><span class="pre">robot_localization</span></code>。</p>
<p>除了必需的``odom`` =&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>base_link``变换之外，Nav2还需要发布``nav_msgs/Odometry``消息，因为该消息提供了机器人的速度信息。具体而言，<a href="#id3"><span class="problematic" id="id4">``</span></a>nav_msgs/Odometry``消息包含以下信息：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># This represents estimates of position and velocity in free space.</span>
<span class="c1"># The pose in this message should be specified in the coordinate frame given by header.frame_id</span>
<span class="c1"># The twist in this message should be specified in the coordinate frame given by the child_frame_id</span>

<span class="c1"># Includes the frame id of the pose parent.</span>
std_msgs/Header<span class="w"> </span>header

<span class="c1"># Frame id the pose is pointing at. The twist is in this coordinate frame.</span>
string<span class="w"> </span>child_frame_id

<span class="c1"># Estimated pose that is typically relative to a fixed world frame.</span>
geometry_msgs/PoseWithCovariance<span class="w"> </span>pose

<span class="c1"># Estimated linear and angular velocity relative to child_frame_id.</span>
geometry_msgs/TwistWithCovariance<span class="w"> </span>twist
</pre></div>
</div>
<p>该消息告诉我们机器人的姿态和速度估计值。<code class="docutils literal notranslate"><span class="pre">header</span></code> 消息在给定坐标系中提供时间戳数据。<code class="docutils literal notranslate"><span class="pre">pose</span></code> 消息提供机器人相对于 <code class="docutils literal notranslate"><span class="pre">header.frame_id</span></code> 指定的坐标系的位置和方向。<code class="docutils literal notranslate"><span class="pre">twist</span></code> 消息提供相对于 <code class="docutils literal notranslate"><span class="pre">child_frame_id</span></code> 中定义的坐标系的线速度和角速度。</p>
</div>
<div class="section" id="setting-up-odometry-on-your-robot">
<h2>设置机器人的里程计<a class="headerlink" href="#setting-up-odometry-on-your-robot" title="永久链接至标题"></a></h2>
<p>为 Nav2 设置物理机器人的里程计系统主要取决于机器人可用的里程计传感器。由于您的机器人可能有大量的配置，特定的设置说明不在本教程的范围内。相反，我们将提供一些基本示例和有用的资源，以帮助您为 Nav2 配置机器人。</p>
<p>首先，我们将使用一个带有轮式编码器作为里程计来源的机器人示例。请注意，轮式编码器在Nav2中并不是必需的，但在大多数设置中很常见。设置里程计的目标是计算里程计信息，并通过ROS 2发布``nav_msgs/Odometry``消息和``odom`` =&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>base_link``转换。为了计算这些信息，您需要设置一些代码，将轮式编码器信息转换为里程计信息，类似下面的代码片段：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">linear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>right_wheel_est_vel<span class="w"> </span>+<span class="w"> </span>left_wheel_est_vel<span class="o">)</span><span class="w"> </span>/<span class="w"> </span><span class="m">2</span>
<span class="nv">angular</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>right_wheel_est_vel<span class="w"> </span>-<span class="w"> </span>left_wheel_est_vel<span class="o">)</span><span class="w"> </span>/<span class="w"> </span>wheel_separation<span class="p">;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">right_wheel_est_vel</span></code> 和 <code class="docutils literal notranslate"><span class="pre">left_wheel_est_vel</span></code> 分别是右轮和左轮的估计速度，而 <code class="docutils literal notranslate"><span class="pre">wheel</span> <span class="pre">separation</span></code> 是轮子之间的距离。可以通过简单地获取轮子关节随时间的位置变化来获得 <code class="docutils literal notranslate"><span class="pre">right_wheel_est_vel</span></code> 和 <code class="docutils literal notranslate"><span class="pre">left_wheel_est_vel</span></code> 的值。然后可以使用这些信息来发布 Nav2 的要求。有关如何执行此操作的基本示例，请参阅里程计导航文档中的 <a href="#id1"><span class="problematic" id="id2">`</span></a>此处 &lt;<a class="reference external" href="http://wiki.ros.org/navigatio">http://wiki.ros.org/navigatio</a></p>
<p>我们建议的一种手动发布此信息的替代方法是通过``ros2_control``框架。<a href="#id1"><span class="problematic" id="id2">``</span></a>ros2_control``框架包含了用于在ROS 2中实时控制机器人的各种软件包。对于轮式编码器，<a href="#id3"><span class="problematic" id="id4">``</span></a>ros2_control``在``ros2_controller``软件包中提供了一个``diff_drive_controller``（差动驱动控制器）。<a href="#id5"><span class="problematic" id="id6">``</span></a>diff_drive_controller``接收在``cmd_vel``话题上发布的``geometry_msgs/Twist``消息，计算里程计信息，并在``odom``话题上发布``nav_msgs/Odometry``消息。<a href="#id7"><span class="problematic" id="id8">``</span></a>ros2_control``还提供了处理不同类型传感器的其他软件包。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p>要获取更多信息，请参阅 <a class="reference external" href="https://ros-controls.github.io/control.ros.org/">ros2_control 文档</a> 和 <a class="reference external" href="https://github.com/ros-controls/ros2_controllers/tree/master/diff_drive_controller/">diff_drive_controller 的 Github 存储库</a>。</p>
</div>
<p>对于其他类型的传感器（如IMU、VIO等），它们各自的ROS驱动程序应该有关于如何发布里程计信息的文档。请记住，Nav2要求发布``nav_msgs/Odometry``消息和``odom`` =&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>base_link``转换，这应该是您在设置里程计系统时的目标。</p>
</div>
<div class="section" id="simulating-an-odometry-system-using-gazebo">
<h2>使用 Gazebo 模拟 Odometry 系统<a class="headerlink" href="#simulating-an-odometry-system-using-gazebo" title="永久链接至标题"></a></h2>
<p>在本节中，我们将使用Gazebo模拟``sam_bot``的里程计系统，这是我们在本教程系列的上一节中构建的机器人。您可以先阅读那个指南或在 <a class="reference external" href="https://github.com/ros-planning/navigation2_tutorials/tree/master/sam_bot_description/">此处获取完整源代码</a>。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>如果您正在使用自己的物理机器人并已经设置好了里程计传感器，您可以选择跳过本节，直接进入下一节，在那里我们将融合 IMU 和里程计消息以提供平滑的 <code class="docutils literal notranslate"><span class="pre">odom</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">base_link</span></code> 转换。</p>
</div>
<p>作为本节的概述，我们将首先设置Gazebo和必要的软件包，使其与ROS 2配合工作。接下来，我们将添加Gazebo插件，分别模拟IMU传感器和差动驱动里程计系统，以发布``sensor_msgs/Imu``和``nav_msgs/Odometry``消息。最后，我们将在Gazebo环境中生成``sam_bot``并通过ROS 2验证发布的``sensor_msgs/Imu``和``nav_msgs/Odometry``消息。</p>
<div class="section" id="setup-and-prerequisites">
<h3>设置和先决条件<a class="headerlink" href="#setup-and-prerequisites" title="永久链接至标题"></a></h3>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a>Gazebo &lt;<a class="reference external" href="http://gazebosim.org/">http://gazebosim.org/</a>&gt;``_是一个3D模拟器，可以让我们观察虚拟机器人在模拟环境中的运行情况。要开始使用Gazebo和ROS 2，请按照`Gazebo安装文档 &lt;<a class="reference external" href="http://ga">http://ga</a></p>
<p>我们还需要安装 <code class="docutils literal notranslate"><span class="pre">gazebo_ros_pkgs</span></code> 包，以便在 Gazebo 中模拟里程计并使用 ROS 2 控制机器人：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>ros-&lt;ros2-distro&gt;-gazebo-ros-pkgs
</pre></div>
</div>
<p>您可以按照此处的说明 <a href="#id5"><span class="problematic" id="id6">`（链接：&lt;http://gazebosim.org/tutorials?tut=ros2_installing&amp;cat=connect_ros#TestingGazeboandROS2integration&gt;`_</span></a>）测试您是否成功设置了ROS 2和Gazebo环境。</p>
<p>请注意，我们使用 URDF 描述了 <code class="docutils literal notranslate"><span class="pre">sam_bot</span></code>。然而，Gazebo 使用 <a class="reference external" href="http://sdformat.org/">Simulation Description Format (SDF)</a> 来描述机器人在模拟环境中的情况。幸运的是，Gazebo 可以自动将兼容的 URDF 文件转换为 SDF。使 URDF 与 Gazebo 兼容的主要要求是在每个 <code class="docutils literal notranslate"><span class="pre">&lt;link&gt;</span></code> 元素中具有一个 <code class="docutils literal notranslate"><span class="pre">&lt;inertia&gt;</span></code> 元素。<code class="docutils literal notranslate"><span class="pre">sam_bot</span></code> 的 URDF 文件已经满足了这个要求，因此它可以直接在 Gazebo 中使用。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p>有关如何在Gazebo中使用URDF的更多信息，请参阅 <a href="#id7"><span class="problematic" id="id8">`（链接：&lt;http://gazebosim.org/tutorials/?tut=ros_urdf&gt;`_</span></a>）教程。</p>
</div>
</div>
<div class="section" id="adding-gazebo-plugins-to-a-urdf">
<h3>向 URDF 添加 Gazebo 插件<a class="headerlink" href="#adding-gazebo-plugins-to-a-urdf" title="永久链接至标题"></a></h3>
<p>现在，我们将向URDF添加Gazebo的IMU传感器和差动驱动插件。要了解Gazebo中可用的不同插件的概述，请查看 <a href="#id9"><span class="problematic" id="id10">`（链接：&lt;http://gazebosim.org/tutorials?tut=ros_gzplugins&gt;`_</span></a>）教程。</p>
<p>对于我们的机器人，我们将使用 <a class="reference external" href="http://gazebosim.org/tutorials?tut=ros_gzplugins#IMUsensor(GazeboRosImuSensor)">GazeboRosImuSensor</a>，它是一个SensorPlugin。SensorPlugin必须附加到一个链接上，因此我们将创建一个``imu_link``，将IMU传感器附加到该链接上。这个链接将在``&lt;gazebo&gt;``元素下引用。接下来，我们将设置``/demo/imu``作为IMU将发布其信息的主题，并且我们将根据 <a class="reference external" href="https://www.ros.org/reps/rep-0145.html">REP145</a> 设置``initalOrientationAsReference``为``false``。我们还将使用Gazebo的 <a class="reference external" href="http://gazebosim.org/tutorials?tut=sensor_noise">sensor noise model</a> 为传感器配置添加一些噪声。</p>
<p>现在，我们将按照上述说明设置IMU传感器插件，将以下行添加到URDF中的``&lt;/robot&gt;``行之前：</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="linenos">132</span><span class="nt">&lt;link</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;imu_link&quot;</span><span class="nt">&gt;</span>
<span class="linenos">133</span><span class="w">  </span><span class="nt">&lt;visual&gt;</span>
<span class="linenos">134</span><span class="w">    </span><span class="nt">&lt;geometry&gt;</span>
<span class="linenos">135</span><span class="w">      </span><span class="nt">&lt;box</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;0.1 0.1 0.1&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">136</span><span class="w">    </span><span class="nt">&lt;/geometry&gt;</span>
<span class="linenos">137</span><span class="w">  </span><span class="nt">&lt;/visual&gt;</span>
<span class="linenos">138</span>
<span class="linenos">139</span><span class="w">  </span><span class="nt">&lt;collision&gt;</span>
<span class="linenos">140</span><span class="w">    </span><span class="nt">&lt;geometry&gt;</span>
<span class="linenos">141</span><span class="w">      </span><span class="nt">&lt;box</span><span class="w"> </span><span class="na">size=</span><span class="s">&quot;0.1 0.1 0.1&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">142</span><span class="w">    </span><span class="nt">&lt;/geometry&gt;</span>
<span class="linenos">143</span><span class="w">  </span><span class="nt">&lt;/collision&gt;</span>
<span class="linenos">144</span>
<span class="linenos">145</span><span class="w">  </span><span class="nt">&lt;xacro:box_inertia</span><span class="w"> </span><span class="na">m=</span><span class="s">&quot;0.1&quot;</span><span class="w"> </span><span class="na">w=</span><span class="s">&quot;0.1&quot;</span><span class="w"> </span><span class="na">d=</span><span class="s">&quot;0.1&quot;</span><span class="w"> </span><span class="na">h=</span><span class="s">&quot;0.1&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">146</span><span class="nt">&lt;/link&gt;</span>
<span class="linenos">147</span>
<span class="linenos">148</span><span class="nt">&lt;joint</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;imu_joint&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;fixed&quot;</span><span class="nt">&gt;</span>
<span class="linenos">149</span><span class="w">  </span><span class="nt">&lt;parent</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;base_link&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">150</span><span class="w">  </span><span class="nt">&lt;child</span><span class="w"> </span><span class="na">link=</span><span class="s">&quot;imu_link&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">151</span><span class="w">  </span><span class="nt">&lt;origin</span><span class="w"> </span><span class="na">xyz=</span><span class="s">&quot;0 0 0.01&quot;</span><span class="nt">/&gt;</span>
<span class="linenos">152</span><span class="nt">&lt;/joint&gt;</span>
<span class="linenos">153</span>
<span class="linenos">154</span><span class="w"> </span><span class="nt">&lt;gazebo</span><span class="w"> </span><span class="na">reference=</span><span class="s">&quot;imu_link&quot;</span><span class="nt">&gt;</span>
<span class="linenos">155</span><span class="w">  </span><span class="nt">&lt;sensor</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;imu_sensor&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;imu&quot;</span><span class="nt">&gt;</span>
<span class="linenos">156</span><span class="w">   </span><span class="nt">&lt;plugin</span><span class="w"> </span><span class="na">filename=</span><span class="s">&quot;libgazebo_ros_imu_sensor.so&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;imu_plugin&quot;</span><span class="nt">&gt;</span>
<span class="linenos">157</span><span class="w">      </span><span class="nt">&lt;ros&gt;</span>
<span class="linenos">158</span><span class="w">        </span><span class="nt">&lt;namespace&gt;</span>/demo<span class="nt">&lt;/namespace&gt;</span>
<span class="linenos">159</span><span class="w">        </span><span class="nt">&lt;remapping&gt;</span>~/out:=imu<span class="nt">&lt;/remapping&gt;</span>
<span class="linenos">160</span><span class="w">      </span><span class="nt">&lt;/ros&gt;</span>
<span class="linenos">161</span><span class="w">      </span><span class="nt">&lt;initial_orientation_as_reference&gt;</span>false<span class="nt">&lt;/initial_orientation_as_reference&gt;</span>
<span class="linenos">162</span><span class="w">    </span><span class="nt">&lt;/plugin&gt;</span>
<span class="linenos">163</span><span class="w">    </span><span class="nt">&lt;always_on&gt;</span>true<span class="nt">&lt;/always_on&gt;</span>
<span class="linenos">164</span><span class="w">    </span><span class="nt">&lt;update_rate&gt;</span>100<span class="nt">&lt;/update_rate&gt;</span>
<span class="linenos">165</span><span class="w">    </span><span class="nt">&lt;visualize&gt;</span>true<span class="nt">&lt;/visualize&gt;</span>
<span class="linenos">166</span><span class="w">    </span><span class="nt">&lt;imu&gt;</span>
<span class="linenos">167</span><span class="w">      </span><span class="nt">&lt;angular_velocity&gt;</span>
<span class="linenos">168</span><span class="w">        </span><span class="nt">&lt;x&gt;</span>
<span class="linenos">169</span><span class="w">          </span><span class="nt">&lt;noise</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;gaussian&quot;</span><span class="nt">&gt;</span>
<span class="linenos">170</span><span class="w">            </span><span class="nt">&lt;mean&gt;</span>0.0<span class="nt">&lt;/mean&gt;</span>
<span class="linenos">171</span><span class="w">            </span><span class="nt">&lt;stddev&gt;</span>2e-4<span class="nt">&lt;/stddev&gt;</span>
<span class="linenos">172</span><span class="w">            </span><span class="nt">&lt;bias_mean&gt;</span>0.0000075<span class="nt">&lt;/bias_mean&gt;</span>
<span class="linenos">173</span><span class="w">            </span><span class="nt">&lt;bias_stddev&gt;</span>0.0000008<span class="nt">&lt;/bias_stddev&gt;</span>
<span class="linenos">174</span><span class="w">          </span><span class="nt">&lt;/noise&gt;</span>
<span class="linenos">175</span><span class="w">        </span><span class="nt">&lt;/x&gt;</span>
<span class="linenos">176</span><span class="w">        </span><span class="nt">&lt;y&gt;</span>
<span class="linenos">177</span><span class="w">          </span><span class="nt">&lt;noise</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;gaussian&quot;</span><span class="nt">&gt;</span>
<span class="linenos">178</span><span class="w">            </span><span class="nt">&lt;mean&gt;</span>0.0<span class="nt">&lt;/mean&gt;</span>
<span class="linenos">179</span><span class="w">            </span><span class="nt">&lt;stddev&gt;</span>2e-4<span class="nt">&lt;/stddev&gt;</span>
<span class="linenos">180</span><span class="w">            </span><span class="nt">&lt;bias_mean&gt;</span>0.0000075<span class="nt">&lt;/bias_mean&gt;</span>
<span class="linenos">181</span><span class="w">            </span><span class="nt">&lt;bias_stddev&gt;</span>0.0000008<span class="nt">&lt;/bias_stddev&gt;</span>
<span class="linenos">182</span><span class="w">          </span><span class="nt">&lt;/noise&gt;</span>
<span class="linenos">183</span><span class="w">        </span><span class="nt">&lt;/y&gt;</span>
<span class="linenos">184</span><span class="w">        </span><span class="nt">&lt;z&gt;</span>
<span class="linenos">185</span><span class="w">          </span><span class="nt">&lt;noise</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;gaussian&quot;</span><span class="nt">&gt;</span>
<span class="linenos">186</span><span class="w">            </span><span class="nt">&lt;mean&gt;</span>0.0<span class="nt">&lt;/mean&gt;</span>
<span class="linenos">187</span><span class="w">            </span><span class="nt">&lt;stddev&gt;</span>2e-4<span class="nt">&lt;/stddev&gt;</span>
<span class="linenos">188</span><span class="w">            </span><span class="nt">&lt;bias_mean&gt;</span>0.0000075<span class="nt">&lt;/bias_mean&gt;</span>
<span class="linenos">189</span><span class="w">            </span><span class="nt">&lt;bias_stddev&gt;</span>0.0000008<span class="nt">&lt;/bias_stddev&gt;</span>
<span class="linenos">190</span><span class="w">          </span><span class="nt">&lt;/noise&gt;</span>
<span class="linenos">191</span><span class="w">        </span><span class="nt">&lt;/z&gt;</span>
<span class="linenos">192</span><span class="w">      </span><span class="nt">&lt;/angular_velocity&gt;</span>
<span class="linenos">193</span><span class="w">      </span><span class="nt">&lt;linear_acceleration&gt;</span>
<span class="linenos">194</span><span class="w">        </span><span class="nt">&lt;x&gt;</span>
<span class="linenos">195</span><span class="w">          </span><span class="nt">&lt;noise</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;gaussian&quot;</span><span class="nt">&gt;</span>
<span class="linenos">196</span><span class="w">            </span><span class="nt">&lt;mean&gt;</span>0.0<span class="nt">&lt;/mean&gt;</span>
<span class="linenos">197</span><span class="w">            </span><span class="nt">&lt;stddev&gt;</span>1.7e-2<span class="nt">&lt;/stddev&gt;</span>
<span class="linenos">198</span><span class="w">            </span><span class="nt">&lt;bias_mean&gt;</span>0.1<span class="nt">&lt;/bias_mean&gt;</span>
<span class="linenos">199</span><span class="w">            </span><span class="nt">&lt;bias_stddev&gt;</span>0.001<span class="nt">&lt;/bias_stddev&gt;</span>
<span class="linenos">200</span><span class="w">          </span><span class="nt">&lt;/noise&gt;</span>
<span class="linenos">201</span><span class="w">        </span><span class="nt">&lt;/x&gt;</span>
<span class="linenos">202</span><span class="w">        </span><span class="nt">&lt;y&gt;</span>
<span class="linenos">203</span><span class="w">          </span><span class="nt">&lt;noise</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;gaussian&quot;</span><span class="nt">&gt;</span>
<span class="linenos">204</span><span class="w">            </span><span class="nt">&lt;mean&gt;</span>0.0<span class="nt">&lt;/mean&gt;</span>
<span class="linenos">205</span><span class="w">            </span><span class="nt">&lt;stddev&gt;</span>1.7e-2<span class="nt">&lt;/stddev&gt;</span>
<span class="linenos">206</span><span class="w">            </span><span class="nt">&lt;bias_mean&gt;</span>0.1<span class="nt">&lt;/bias_mean&gt;</span>
<span class="linenos">207</span><span class="w">            </span><span class="nt">&lt;bias_stddev&gt;</span>0.001<span class="nt">&lt;/bias_stddev&gt;</span>
<span class="linenos">208</span><span class="w">          </span><span class="nt">&lt;/noise&gt;</span>
<span class="linenos">209</span><span class="w">        </span><span class="nt">&lt;/y&gt;</span>
<span class="linenos">210</span><span class="w">        </span><span class="nt">&lt;z&gt;</span>
<span class="linenos">211</span><span class="w">          </span><span class="nt">&lt;noise</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;gaussian&quot;</span><span class="nt">&gt;</span>
<span class="linenos">212</span><span class="w">            </span><span class="nt">&lt;mean&gt;</span>0.0<span class="nt">&lt;/mean&gt;</span>
<span class="linenos">213</span><span class="w">            </span><span class="nt">&lt;stddev&gt;</span>1.7e-2<span class="nt">&lt;/stddev&gt;</span>
<span class="linenos">214</span><span class="w">            </span><span class="nt">&lt;bias_mean&gt;</span>0.1<span class="nt">&lt;/bias_mean&gt;</span>
<span class="linenos">215</span><span class="w">            </span><span class="nt">&lt;bias_stddev&gt;</span>0.001<span class="nt">&lt;/bias_stddev&gt;</span>
<span class="linenos">216</span><span class="w">          </span><span class="nt">&lt;/noise&gt;</span>
<span class="linenos">217</span><span class="w">        </span><span class="nt">&lt;/z&gt;</span>
<span class="linenos">218</span><span class="w">      </span><span class="nt">&lt;/linear_acceleration&gt;</span>
<span class="linenos">219</span><span class="w">    </span><span class="nt">&lt;/imu&gt;</span>
<span class="linenos">220</span><span class="w">  </span><span class="nt">&lt;/sensor&gt;</span>
<span class="linenos">221</span><span class="nt">&lt;/gazebo&gt;</span>
</pre></div>
</div>
<p>现在，让我们添加差分驱动的ModelPlugin。我们将配置插件，以便在``/demo/odom``主题上发布``nav_msgs/Odometry``消息。左右轮的关节将设置为``sam_bot``的轮关节。轮子之间的距离和轮子的直径分别根据``wheel_ygap``和``wheel_radius``的定义值设置。</p>
<p>要在URDF中包含此插件，请在IMU插件的``&lt;/gazebo&gt;``标签后添加以下行：</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="linenos">223</span><span class="nt">&lt;gazebo&gt;</span>
<span class="linenos">224</span><span class="w">  </span><span class="nt">&lt;plugin</span><span class="w"> </span><span class="na">name=</span><span class="s">&#39;diff_drive&#39;</span><span class="w"> </span><span class="na">filename=</span><span class="s">&#39;libgazebo_ros_diff_drive.so&#39;</span><span class="nt">&gt;</span>
<span class="linenos">225</span><span class="w">    </span><span class="nt">&lt;ros&gt;</span>
<span class="linenos">226</span><span class="w">      </span><span class="nt">&lt;namespace&gt;</span>/demo<span class="nt">&lt;/namespace&gt;</span>
<span class="linenos">227</span><span class="w">    </span><span class="nt">&lt;/ros&gt;</span>
<span class="linenos">228</span>
<span class="linenos">229</span><span class="w">    </span><span class="cm">&lt;!-- wheels --&gt;</span>
<span class="linenos">230</span><span class="w">    </span><span class="nt">&lt;left_joint&gt;</span>drivewhl_l_joint<span class="nt">&lt;/left_joint&gt;</span>
<span class="linenos">231</span><span class="w">    </span><span class="nt">&lt;right_joint&gt;</span>drivewhl_r_joint<span class="nt">&lt;/right_joint&gt;</span>
<span class="linenos">232</span>
<span class="linenos">233</span><span class="w">    </span><span class="cm">&lt;!-- kinematics --&gt;</span>
<span class="linenos">234</span><span class="w">    </span><span class="nt">&lt;wheel_separation&gt;</span>0.4<span class="nt">&lt;/wheel_separation&gt;</span>
<span class="linenos">235</span><span class="w">    </span><span class="nt">&lt;wheel_diameter&gt;</span>0.2<span class="nt">&lt;/wheel_diameter&gt;</span>
<span class="linenos">236</span>
<span class="linenos">237</span><span class="w">    </span><span class="cm">&lt;!-- limits --&gt;</span>
<span class="linenos">238</span><span class="w">    </span><span class="nt">&lt;max_wheel_torque&gt;</span>20<span class="nt">&lt;/max_wheel_torque&gt;</span>
<span class="linenos">239</span><span class="w">    </span><span class="nt">&lt;max_wheel_acceleration&gt;</span>1.0<span class="nt">&lt;/max_wheel_acceleration&gt;</span>
<span class="linenos">240</span>
<span class="linenos">241</span><span class="w">    </span><span class="cm">&lt;!-- output --&gt;</span>
<span class="linenos">242</span><span class="w">    </span><span class="nt">&lt;publish_odom&gt;</span>true<span class="nt">&lt;/publish_odom&gt;</span>
<span class="linenos">243</span><span class="w">    </span><span class="nt">&lt;publish_odom_tf&gt;</span>false<span class="nt">&lt;/publish_odom_tf&gt;</span>
<span class="linenos">244</span><span class="w">    </span><span class="nt">&lt;publish_wheel_tf&gt;</span>true<span class="nt">&lt;/publish_wheel_tf&gt;</span>
<span class="linenos">245</span>
<span class="linenos">246</span><span class="w">    </span><span class="nt">&lt;odometry_frame&gt;</span>odom<span class="nt">&lt;/odometry_frame&gt;</span>
<span class="linenos">247</span><span class="w">    </span><span class="nt">&lt;robot_base_frame&gt;</span>base_link<span class="nt">&lt;/robot_base_frame&gt;</span>
<span class="linenos">248</span><span class="w">  </span><span class="nt">&lt;/plugin&gt;</span>
<span class="linenos">249</span><span class="nt">&lt;/gazebo&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="launch-and-build-files">
<h3>启动和构建文件<a class="headerlink" href="#launch-and-build-files" title="永久链接至标题"></a></h3>
<p>现在，我们将编辑我们的启动文件 <a href="#id11"><span class="problematic" id="id12">`（链接：&lt;https://github.com/ros-planning/navigation2_tutorials/blob/master/sam_bot_description/launch/display.launch.py&gt;`_</span></a>）以在Gazebo中生成``sam_bot``。由于我们将模拟我们的机器人，可以通过删除``generate_launch_description()``内部的以下行来移除关节状态发布器的GUI：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">joint_state_publisher_gui_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>launch_ros.actions.Node<span class="o">(</span>
<span class="w">  </span><span class="nv">package</span><span class="o">=</span><span class="s1">&#39;joint_state_publisher_gui&#39;</span>,
<span class="w">  </span><span class="nv">executable</span><span class="o">=</span><span class="s1">&#39;joint_state_publisher_gui&#39;</span>,
<span class="w">  </span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;joint_state_publisher_gui&#39;</span>,
<span class="w">  </span><span class="nv">condition</span><span class="o">=</span>launch.conditions.IfCondition<span class="o">(</span>LaunchConfiguration<span class="o">(</span><span class="s1">&#39;gui&#39;</span><span class="o">))</span>
<span class="o">)</span>
</pre></div>
</div>
<p>移除以下的`gui`参数：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>DeclareLaunchArgument<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;gui&#39;</span>,<span class="w"> </span><span class="nv">default_value</span><span class="o">=</span><span class="s1">&#39;True&#39;</span>,
<span class="w">                      </span><span class="nv">description</span><span class="o">=</span><span class="s1">&#39;Flag to enable joint_state_publisher_gui&#39;</span><span class="o">)</span>
</pre></div>
</div>
<p>从`joint_state_publisher_node`中删除条件：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">joint_state_publisher_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>launch_ros.actions.Node<span class="o">(</span>
<span class="w">  </span><span class="nv">package</span><span class="o">=</span><span class="s1">&#39;joint_state_publisher&#39;</span>,
<span class="w">  </span><span class="nv">executable</span><span class="o">=</span><span class="s1">&#39;joint_state_publisher&#39;</span>,
<span class="w">  </span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;joint_state_publisher&#39;</span>,
<span class="w">  </span><span class="nv">condition</span><span class="o">=</span>launch.conditions.UnlessCondition<span class="o">(</span>LaunchConfiguration<span class="o">(</span><span class="s1">&#39;gui&#39;</span><span class="o">))</span><span class="w"> </span><span class="c1"># Remove this line</span>
<span class="o">)</span>
</pre></div>
</div>
<p>接下来，打开 <a class="reference external" href="https://github.com/ros-planning/navigation2_tutorials/blob/master/sam_bot_description/package.xml">package.xml</a> 并删除这行：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&lt;exec_depend&gt;joint_state_publisher_gui&lt;/exec_depend&gt;
</pre></div>
</div>
<p>要启动 Gazebo，请在 <code class="docutils literal notranslate"><span class="pre">joint_state_publisher_node</span></code> 行之前添加以下内容</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>launch.actions.ExecuteProcess<span class="o">(</span><span class="nv">cmd</span><span class="o">=[</span><span class="s1">&#39;gazebo&#39;</span>,<span class="w"> </span><span class="s1">&#39;--verbose&#39;</span>,<span class="w"> </span><span class="s1">&#39;-s&#39;</span>,<span class="w"> </span><span class="s1">&#39;libgazebo_ros_init.so&#39;</span>,<span class="w"> </span><span class="s1">&#39;-s&#39;</span>,<span class="w"> </span><span class="s1">&#39;libgazebo_ros_factory.so&#39;</span><span class="o">]</span>,<span class="w"> </span><span class="nv">output</span><span class="o">=</span><span class="s1">&#39;screen&#39;</span><span class="o">)</span>,
</pre></div>
</div>
<p>现在，我们将在Gazebo中添加一个节点，用于生成``sam_bot``。再次打开 <a class="reference external" href="https://github.com/ros-planning/navigation2_tutorials/blob/master/sam_bot_description/launch/display.launch.py">launch/display.launch.py</a> ，在``return launch.LaunchDescription([<a href="#id1"><span class="problematic" id="id2">``</span></a>行之前粘贴以下代码行。</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">spawn_entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>launch_ros.actions.Node<span class="o">(</span>
<span class="w">  </span><span class="nv">package</span><span class="o">=</span><span class="s1">&#39;gazebo_ros&#39;</span>,
<span class="w">  </span><span class="nv">executable</span><span class="o">=</span><span class="s1">&#39;spawn_entity.py&#39;</span>,
<span class="w">  </span><span class="nv">arguments</span><span class="o">=[</span><span class="s1">&#39;-entity&#39;</span>,<span class="w"> </span><span class="s1">&#39;sam_bot&#39;</span>,<span class="w"> </span><span class="s1">&#39;-topic&#39;</span>,<span class="w"> </span><span class="s1">&#39;robot_description&#39;</span><span class="o">]</span>,
<span class="w">  </span><span class="nv">output</span><span class="o">=</span><span class="s1">&#39;screen&#39;</span>
<span class="o">)</span>
</pre></div>
</div>
<p>然后在 <code class="docutils literal notranslate"><span class="pre">rviz_node</span></code> 行之前添加一行 <code class="docutils literal notranslate"><span class="pre">spawn_entity</span></code>，如下所示</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="w">      </span>robot_state_publisher_node,
<span class="w">      </span>spawn_entity,
<span class="w">      </span>rviz_node
<span class="o">])</span>
</pre></div>
</div>
</div>
<div class="section" id="build-run-and-verification">
<h3>构建、运行和验证<a class="headerlink" href="#build-run-and-verification" title="永久链接至标题"></a></h3>
<p>让我们运行我们的包，检查系统中是否存在活动的``/demo/imu``和``/demo/odom``主题。</p>
<p>导航到项目的根目录并执行以下命令</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>colcon<span class="w"> </span>build
.<span class="w"> </span>install/setup.bash
ros2<span class="w"> </span>launch<span class="w"> </span>sam_bot_description<span class="w"> </span>display.launch.py
</pre></div>
</div>
<p>Gazebo 应该会启动，您应该会看到一个名为 <code class="docutils literal notranslate"><span class="pre">sam_bot</span></code> 的三维模型:</p>
<a class="reference internal image-reference" href="../../_images/gazebo_sam_bot.png"><img alt="../../_images/gazebo_sam_bot.png" class="align-center" src="../../_images/gazebo_sam_bot.png" style="width: 50%;" /></a>
<p>要查看系统中的活动话题，请打开一个新的终端并执行</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ros2<span class="w"> </span>topic<span class="w"> </span>list
</pre></div>
</div>
<p>您应该在话题列表中看到 <code class="docutils literal notranslate"><span class="pre">/demo/imu</span></code> 和 <code class="docutils literal notranslate"><span class="pre">/demo/odom</span></code>。</p>
<p>要查看有关话题的更多信息，请执行</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ros2<span class="w"> </span>topic<span class="w"> </span>info<span class="w"> </span>/demo/imu
ros2<span class="w"> </span>topic<span class="w"> </span>info<span class="w"> </span>/demo/odom
</pre></div>
</div>
<p>您应该会看到类似下面的输出:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>Type:<span class="w"> </span>sensor_msgs/msg/Imu
Publisher<span class="w"> </span>count:<span class="w"> </span><span class="m">1</span>
Subscription<span class="w"> </span>count:<span class="w"> </span><span class="m">0</span>
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>Type:<span class="w"> </span>nav_msgs/msg/Odometry
Publisher<span class="w"> </span>count:<span class="w"> </span><span class="m">1</span>
Subscription<span class="w"> </span>count:<span class="w"> </span><span class="m">0</span>
</pre></div>
</div>
<p>注意，<code class="docutils literal notranslate"><span class="pre">/demo/imu</span></code> 话题发布的是 <code class="docutils literal notranslate"><span class="pre">sensor_msgs/Imu</span></code> 类型的消息，而 <code class="docutils literal notranslate"><span class="pre">/demo/odom</span></code> 话题发布的是 <code class="docutils literal notranslate"><span class="pre">nav_msgs/Odometry</span></code> 类型的消息。这些话题上发布的信息分别来自 IMU 传感器和差分驱动的 Gazebo 仿真。还请注意，这两个话题目前都没有订阅者。在下一节中，我们将创建一个 <code class="docutils literal notranslate"><span class="pre">robot_localization</span></code> 节点来订阅这两个话题。然后，它将使用这两个话题上发布的消息为 Nav2 提供融合的、本地准确且平滑的里程计信息。</p>
</div>
</div>
<div class="section" id="robot-localization-demo">
<h2>机器人定位演示<a class="headerlink" href="#robot-localization-demo" title="永久链接至标题"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">robot_localization</span></code> 包用于从 <code class="docutils literal notranslate"><span class="pre">N</span></code> 个里程计传感器输入的数据中提供融合和本地准确的平滑里程计信息。这些信息可以通过 <code class="docutils literal notranslate"><span class="pre">nav_msgs/Odometry</span></code>、<code class="docutils literal notranslate"><span class="pre">sensor_msgs/Imu</span></code>、<code class="docutils literal notranslate"><span class="pre">geometry_msgs/PoseWithCovarianceStamped</span></code> 和 <code class="docutils literal notranslate"><span class="pre">geometry_msgs/TwistWithCovarianceStamped</span></code> 消息提供给该包。</p>
<p>通常的机器人设置至少包括轮编码器和惯性测量单元 (IMU) 作为其里程计传感器来源。当``robot_localization``接收到多个传感器提供的里程计信息时，它可以通过使用状态估计节点来融合传感器提供的里程计信息。这些节点使用扩展卡尔曼滤波器(<code class="docutils literal notranslate"><span class="pre">ekf_node</span></code>)或无迹卡尔曼滤波器(<code class="docutils literal notranslate"><span class="pre">ukf_node</span></code>)来实现融合。此外，该软件包还实现了一个``navsat_transform_node``，在使用GPS时将地理坐标转换为机器人的世界坐标系。</p>
<p>如果在配置中启用了``robot_localization``软件包，它将通过``odometry/filtered``和``accel/filtered``主题发布融合的传感器数据。此外，它还可以在``/tf``主题上发布``odom`` =&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>base_link``的变换。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p>有关``robot_localization``的更多详细信息，请参阅官方的 <a class="reference external" href="http://docs.ros.org/en/noetic/api/robot_localization/html/index.html">Robot Localization 文档</a>。</p>
</div>
<p>如果您的机器人只能提供一个里程计源，使用``robot_localization``除了平滑效果外，几乎没有其他影响。在这种情况下，另一种方法是通过单个里程计源节点使用tf2广播器发布变换。然而，您仍然可以选择使用``robot_localization``来发布变换，输出结果可能仍然具有一定的平滑效果。</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p>有关如何编写 tf2 广播器的更多信息，请查阅如下链接: Writing a tf2 broadcaster <a class="reference external" href="https://docs.ros.org/en/rolling/Tutorials/Tf2/Writing-A-Tf2-Broadcaster-Cpp.html">(C++)</a>  <a class="reference external" href="https://docs.ros.org/en/rolling/Tutorials/Tf2/Writing-A-Tf2-Broadcaster-Py.html">(Python)</a>。</p>
</div>
<p>在本节的其余部分中，我们将展示如何使用``robot_localization``来融合``sam_bot``的传感器。它将使用发布在``/demo/Imu``上的``sensor_msgs/Imu``消息和发布在``/demo/odom``上的``nav_msgs/Odometry``消息，然后在``odometry/filtered``、<code class="docutils literal notranslate"><span class="pre">accel/filtered``和</span></code>/tf``主题上发布数据。</p>
<div class="section" id="configuring-robot-localization">
<h3>配置机器人定位<a class="headerlink" href="#configuring-robot-localization" title="永久链接至标题"></a></h3>
<p>现在让我们配置``robot_localization``软件包，使用扩展卡尔曼滤波器（<code class="docutils literal notranslate"><span class="pre">ekf_node</span></code>）来融合里程计信息，并发布``odom`` =&gt; <a href="#id1"><span class="problematic" id="id2">``</span></a>base_link``的变换。</p>
<p>首先，使用您的机器的软件包管理器安装``robot_localization``软件包，或者执行以下命令进行安装：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>ros-&lt;ros2-distro&gt;-robot-localization
</pre></div>
</div>
<p>接下来，我们使用一个YAML文件来指定``ekf_node``的参数。在您的项目根目录下创建一个名为``config``的目录，并创建一个名为``ekf.yaml``的文件。将以下代码复制到``ekf.yaml``文件中。</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1">### ekf config file ###</span>
<span class="nt">ekf_filter_node</span><span class="p">:</span>
<span class="w">    </span><span class="nt">ros__parameters</span><span class="p">:</span>
<span class="c1"># The frequency, in Hz, at which the filter will output a position estimate. Note that the filter will not begin</span>
<span class="c1"># computation until it receives at least one message from one of theinputs. It will then run continuously at the</span>
<span class="c1"># frequency specified here, regardless of whether it receives more measurements. Defaults to 30 if unspecified.</span>
<span class="w">        </span><span class="nt">frequency</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30.0</span>

<span class="c1"># ekf_localization_node and ukf_localization_node both use a 3D omnidirectional motion model. If this parameter is</span>
<span class="c1"># set to true, no 3D information will be used in your state estimate. Use this if you are operating in a planar</span>
<span class="c1"># environment and want to ignore the effect of small variations in the ground plane that might otherwise be detected</span>
<span class="c1"># by, for example, an IMU. Defaults to false if unspecified.</span>
<span class="w">        </span><span class="nt">two_d_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="c1"># Whether to publish the acceleration state. Defaults to false if unspecified.</span>
<span class="w">        </span><span class="nt">publish_acceleration</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="c1"># Whether to broadcast the transformation over the /tf topic. Defaultsto true if unspecified.</span>
<span class="w">        </span><span class="nt">publish_tf</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="c1"># 1. Set the map_frame, odom_frame, and base_link frames to the appropriate frame names for your system.</span>
<span class="c1">#     1a. If your system does not have a map_frame, just remove it, and make sure &quot;world_frame&quot; is set to the value of odom_frame.</span>
<span class="c1"># 2. If you are fusing continuous position data such as wheel encoder odometry, visual odometry, or IMU data, set &quot;world_frame&quot;</span>
<span class="c1">#    to your odom_frame value. This is the default behavior for robot_localization&#39;s state estimation nodes.</span>
<span class="c1"># 3. If you are fusing global absolute position data that is subject to discrete jumps (e.g., GPS or position updates from landmark</span>
<span class="c1">#    observations) then:</span>
<span class="c1">#     3a. Set your &quot;world_frame&quot; to your map_frame value</span>
<span class="c1">#     3b. MAKE SURE something else is generating the odom-&gt;base_link transform. Note that this can even be another state estimation node</span>
<span class="c1">#         from robot_localization! However, that instance should *not* fuse the global data.</span>
<span class="w">        </span><span class="nt">map_frame</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">map</span><span class="w">              </span><span class="c1"># Defaults to &quot;map&quot; if unspecified</span>
<span class="w">        </span><span class="nt">odom_frame</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">odom</span><span class="w">            </span><span class="c1"># Defaults to &quot;odom&quot; if unspecified</span>
<span class="w">        </span><span class="nt">base_link_frame</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">base_link</span><span class="w">  </span><span class="c1"># Defaults to &quot;base_link&quot; ifunspecified</span>
<span class="w">        </span><span class="nt">world_frame</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">odom</span><span class="w">           </span><span class="c1"># Defaults to the value ofodom_frame if unspecified</span>

<span class="w">        </span><span class="nt">odom0</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo/odom</span>
<span class="w">        </span><span class="nt">odom0_config</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">true</span><span class="p p-Indicator">,</span><span class="w">  </span><span class="nv">true</span><span class="p p-Indicator">,</span><span class="w">  </span><span class="nv">true</span><span class="p p-Indicator">,</span>
<span class="w">                       </span><span class="nv">false</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">false</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">false</span><span class="p p-Indicator">,</span>
<span class="w">                       </span><span class="nv">false</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">false</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">false</span><span class="p p-Indicator">,</span>
<span class="w">                       </span><span class="nv">false</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">false</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">true</span><span class="p p-Indicator">,</span>
<span class="w">                       </span><span class="nv">false</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">false</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">false</span><span class="p p-Indicator">]</span>

<span class="w">        </span><span class="nt">imu0</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">demo/imu</span>
<span class="w">        </span><span class="nt">imu0_config</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">false</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">false</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">false</span><span class="p p-Indicator">,</span>
<span class="w">                      </span><span class="nv">true</span><span class="p p-Indicator">,</span><span class="w">  </span><span class="nv">true</span><span class="p p-Indicator">,</span><span class="w">  </span><span class="nv">true</span><span class="p p-Indicator">,</span>
<span class="w">                      </span><span class="nv">false</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">false</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">false</span><span class="p p-Indicator">,</span>
<span class="w">                      </span><span class="nv">false</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">false</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">false</span><span class="p p-Indicator">,</span>
<span class="w">                      </span><span class="nv">false</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">false</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">false</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>在这个配置中，我们定义了``frequency``、<code class="docutils literal notranslate"><span class="pre">two_d_mode</span></code>、<code class="docutils literal notranslate"><span class="pre">publish_acceleration</span></code>、<code class="docutils literal notranslate"><span class="pre">publish_tf</span></code>、<code class="docutils literal notranslate"><span class="pre">map_frame</span></code>、<code class="docutils literal notranslate"><span class="pre">odom_frame</span></code>、<a href="#id1"><span class="problematic" id="id2">``</span></a>base_link_frame``和``world_frame``的参数值。有关您可以修改的其他参数的详细信息，请参阅`状态估计节点的参数 &lt;<a class="reference external" href="http://docs.ros.org/en/melodic/api/robot_localization/html/state_estimation_nodes.html#parameters">http://docs.ros.org/en/melodic/api/robot_localization/html/state_estimation_nodes.html#parameters</a>&gt;`_，以及示例``efk.yaml``可以在`这里找到 &lt;<a class="reference external" href="https://github.com/cra-ros-pkg/robot_localization/blob/foxy-devel/params/ekf.yaml">https://github.com/cra-ros-pkg/robot_localization/blob/foxy-devel/params/ekf.yaml</a>&gt;`_。</p>
<p>要将传感器输入添加到``ekf_filter_node``，请将序列中的下一个数字添加到其基本名称（odom、imu、pose、twist）。在我们的例子中，我们有一个``nav_msgs/Odometry``和一个``sensor_msgs/Imu``作为滤波器的输入，因此我们使用``odom0``和``imu0``。我们将``odom0``的值设置为``demo/odom``，它是发布``nav_msgs/Odometry``的主题。类似地，我们将``imu0``的值设置为发布``sensor_msgs/Imu``的主题，即``demo/imu``。</p>
<p>您可以使用``_config``参数指定要由滤波器使用的传感器的值。该参数的值的顺序是x、y、z、roll、pitch、yaw、vx、vy、vz、vroll、vpitch、vyaw、ax、ay、az。在我们的例子中，我们将``odom0_config``中除了第1、2、3和12个条目以外的所有条目都设置为``false``，这意味着滤波器只会使用``odom0``的x、y、z和vyaw的值。</p>
<p>在``imu0_config``矩阵中，您会注意到只使用了滚转、俯仰和偏航。典型的移动机器人级别的IMU还会提供角速度和线性加速度。为了使``robot_localization``正常工作，您不应该融合多个彼此有导数关系的字段。由于角速度在IMU内部被融合以提供滚转、俯仰和偏航的估计，我们不应该融合用</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p>有关将输入数据配置为``robot_localization``的更多建议，请参阅`准备用于robot_localization的数据 &lt;<a class="reference external" href="http://docs.ros.org/en/melodic/api/robot_localization/html/preparing_sensor_data.html#odometry">http://docs.ros.org/en/melodic/api/robot_localization/html/preparing_sensor_data.html#odometry</a>&gt;`_，以及`配置robot_localization &lt;<a class="reference external" href="http://docs.ros.org/en/melodic/api/robot_localization/html/configuring_robot_localization.html">http://docs.ros.org/en/melodic/api/robot_localization/html/configuring_robot_localization.html</a>&gt;`_。</p>
</div>
</div>
<div class="section" id="id3">
<h3>启动和构建文件<a class="headerlink" href="#id3" title="永久链接至标题"></a></h3>
<p>Now, let us add the <code class="docutils literal notranslate"><span class="pre">ekf_node</span></code> into the launch file. Open <code class="docutils literal notranslate"><span class="pre">launch/display.launch.py</span></code> and paste the following lines before the <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">launch.LaunchDescription([</span></code> line.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">robot_localization_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>launch_ros.actions.Node<span class="o">(</span>
<span class="w">       </span><span class="nv">package</span><span class="o">=</span><span class="s1">&#39;robot_localization&#39;</span>,
<span class="w">       </span><span class="nv">executable</span><span class="o">=</span><span class="s1">&#39;ekf_node&#39;</span>,
<span class="w">       </span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;ekf_filter_node&#39;</span>,
<span class="w">       </span><span class="nv">output</span><span class="o">=</span><span class="s1">&#39;screen&#39;</span>,
<span class="w">       </span><span class="nv">parameters</span><span class="o">=[</span>os.path.join<span class="o">(</span>pkg_share,<span class="w"> </span><span class="s1">&#39;config/ekf.yaml&#39;</span><span class="o">)</span>,<span class="w"> </span><span class="o">{</span><span class="s1">&#39;use_sim_time&#39;</span>:<span class="w"> </span>LaunchConfiguration<span class="o">(</span><span class="s1">&#39;use_sim_time&#39;</span><span class="o">)}]</span>
<span class="o">)</span>
</pre></div>
</div>
<p>接下来，在``return launch.LaunchDescription([<a href="#id1"><span class="problematic" id="id2">``</span></a>块中添加以下启动参数。</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>launch.actions.DeclareLaunchArgument<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;use_sim_time&#39;</span>,<span class="w"> </span><span class="nv">default_value</span><span class="o">=</span><span class="s1">&#39;True&#39;</span>,
<span class="w">                                            </span><span class="nv">description</span><span class="o">=</span><span class="s1">&#39;Flag to enable use_sim_time&#39;</span><span class="o">)</span>,
</pre></div>
</div>
<p>Lastly, add <code class="docutils literal notranslate"><span class="pre">robot_localization_node,</span></code> above the <code class="docutils literal notranslate"><span class="pre">rviz_node</span></code> line to launch the robot localization node.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="w">      </span>robot_state_publisher_node,
<span class="w">      </span>spawn_entity,
<span class="w">      </span>robot_localization_node,
<span class="w">      </span>rviz_node
<span class="o">])</span>
</pre></div>
</div>
<p>接下来，我们需要将``robot_localization``依赖项添加到我们的软件包定义中。打开``package.xml``，并在最后一个``&lt;exec_depend&gt;``标签下面添加以下行。</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&lt;exec_depend&gt;robot_localization&lt;/exec_depend&gt;
</pre></div>
</div>
<p>Lastly, open <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> and append the <code class="docutils literal notranslate"><span class="pre">config</span></code> directory inside the <code class="docutils literal notranslate"><span class="pre">install(DIRECTORY...)</span></code>, as shown in the snippet below.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>install<span class="o">(</span>
<span class="w">  </span>DIRECTORY<span class="w"> </span>src<span class="w"> </span>launch<span class="w"> </span>rviz<span class="w"> </span>config
<span class="w">  </span>DESTINATION<span class="w"> </span>share/<span class="si">${</span><span class="nv">PROJECT_NAME</span><span class="si">}</span>
<span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3>构建、运行和验证<a class="headerlink" href="#id4" title="永久链接至标题"></a></h3>
<p>Let us now build and run our package. Navigate to the root of the project and execute the following lines:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>colcon<span class="w"> </span>build
.<span class="w"> </span>install/setup.bash
ros2<span class="w"> </span>launch<span class="w"> </span>sam_bot_description<span class="w"> </span>display.launch.py
</pre></div>
</div>
<p>Gazebo and RVIZ should launch. In the RVIZ window, you should see the model and TF frames of <code class="docutils literal notranslate"><span class="pre">sam_bot</span></code>:</p>
<a class="reference internal image-reference" href="../../_images/rviz.png"><img alt="../../_images/rviz.png" class="align-center" src="../../_images/rviz.png" style="width: 100%;" /></a>
<p>Next, let us verify that the <code class="docutils literal notranslate"><span class="pre">odometry/filtered</span></code>,  <code class="docutils literal notranslate"><span class="pre">accel/filtered</span></code>, and <code class="docutils literal notranslate"><span class="pre">/tf</span></code> topics are active in the system. Open a new terminal and execute:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ros2<span class="w"> </span>topic<span class="w"> </span>list
</pre></div>
</div>
<p>You should see <code class="docutils literal notranslate"><span class="pre">odometry/filtered</span></code>, <code class="docutils literal notranslate"><span class="pre">accel/filtered</span></code>, and <code class="docutils literal notranslate"><span class="pre">/tf</span></code> in the list of the topics.</p>
<p>You can also check the subscriber count of these topics again by executing:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ros2<span class="w"> </span>topic<span class="w"> </span>info<span class="w"> </span>/demo/imu
ros2<span class="w"> </span>topic<span class="w"> </span>info<span class="w"> </span>/demo/odom
</pre></div>
</div>
<p>You should see that <code class="docutils literal notranslate"><span class="pre">/demo/imu</span></code> and <code class="docutils literal notranslate"><span class="pre">/demo/odom</span></code> now both have 1 subscriber each.</p>
<p>To verify that the <code class="docutils literal notranslate"><span class="pre">ekf_filter_node</span></code> are the subscribers of these topics, execute:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ros2<span class="w"> </span>node<span class="w"> </span>info<span class="w"> </span>/ekf_filter_node
</pre></div>
</div>
<p>You should see an output as shown below.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>/ekf_filter_node
Subscribers:
<span class="w">  </span>/demo/imu:<span class="w"> </span>sensor_msgs/msg/Imu
<span class="w">  </span>/demo/odom:<span class="w"> </span>nav_msgs/msg/Odometry
<span class="w">  </span>/parameter_events:<span class="w"> </span>rcl_interfaces/msg/ParameterEvent
<span class="w">  </span>/set_pose:<span class="w"> </span>geometry_msgs/msg/PoseWithCovarianceStamped
Publishers:
<span class="w">  </span>/accel/filtered:<span class="w"> </span>geometry_msgs/msg/AccelWithCovarianceStamped
<span class="w">  </span>/diagnostics:<span class="w"> </span>diagnostic_msgs/msg/DiagnosticArray
<span class="w">  </span>/odometry/filtered:<span class="w"> </span>nav_msgs/msg/Odometry
<span class="w">  </span>/parameter_events:<span class="w"> </span>rcl_interfaces/msg/ParameterEvent
<span class="w">  </span>/rosout:<span class="w"> </span>rcl_interfaces/msg/Log
<span class="w">  </span>/tf:<span class="w"> </span>tf2_msgs/msg/TFMessage
Service<span class="w"> </span>Servers:
<span class="w">   </span>...
</pre></div>
</div>
<p>From the output above, we can see that the <code class="docutils literal notranslate"><span class="pre">ekf_filter_node</span></code> is subscribed to <code class="docutils literal notranslate"><span class="pre">/demo/imu</span></code> and <code class="docutils literal notranslate"><span class="pre">/demo/odom</span></code>. We can also see that the <code class="docutils literal notranslate"><span class="pre">ekf_filter_node</span></code> publishes on the <code class="docutils literal notranslate"><span class="pre">odometry/filtered</span></code>, <code class="docutils literal notranslate"><span class="pre">accel/filtered</span></code>, and <code class="docutils literal notranslate"><span class="pre">/tf</span></code> topics.</p>
<p>You may also verify that <code class="docutils literal notranslate"><span class="pre">robot_localization</span></code> is publishing the <code class="docutils literal notranslate"><span class="pre">odom</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">base_link</span></code> transform by using the tf2_echo utility. Run the folllowing command in a separate command line terminal:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ros2<span class="w"> </span>run<span class="w"> </span>tf2_ros<span class="w"> </span>tf2_echo<span class="w"> </span>odom<span class="w"> </span>base_link
</pre></div>
</div>
<p>You should see a continuous output similar to what is shown below.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>At<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="m">8</span>.842000000
-<span class="w"> </span>Translation:<span class="w"> </span><span class="o">[</span><span class="m">0</span>.003,<span class="w"> </span>-0.000,<span class="w"> </span><span class="m">0</span>.127<span class="o">]</span>
-<span class="w"> </span>Rotation:<span class="w"> </span><span class="k">in</span><span class="w"> </span>Quaternion<span class="w"> </span><span class="o">[</span>-0.000,<span class="w"> </span><span class="m">0</span>.092,<span class="w"> </span><span class="m">0</span>.003,<span class="w"> </span><span class="m">0</span>.996<span class="o">]</span>
At<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="m">9</span>.842000000
-<span class="w"> </span>Translation:<span class="w"> </span><span class="o">[</span><span class="m">0</span>.002,<span class="w"> </span>-0.000,<span class="w"> </span><span class="m">0</span>.127<span class="o">]</span>
-<span class="w"> </span>Rotation:<span class="w"> </span><span class="k">in</span><span class="w"> </span>Quaternion<span class="w"> </span><span class="o">[</span>-0.000,<span class="w"> </span><span class="m">0</span>.092,<span class="w"> </span><span class="m">0</span>.003,<span class="w"> </span><span class="m">0</span>.996<span class="o">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="conclusion">
<h2>结论<a class="headerlink" href="#conclusion" title="永久链接至标题"></a></h2>
<p>In this guide, we have discussed the messages and transforms that are expected by Nav2 from the odometry system. We have seen how to set up an odometry system and how to verify the published messages. We also have discussed how multiple odometry sensors can be used to provide a filtered and smoothed odometry using <code class="docutils literal notranslate"><span class="pre">robot_localization</span></code>. We have also checked if the <code class="docutils literal notranslate"><span class="pre">odom</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">base_link</span></code> transform is being published correctly by <code class="docutils literal notranslate"><span class="pre">robot_localization</span></code>.</p>
</div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2020.</p>
  </div>

   

</footer>
        </div>


      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-EVD5Z6G6NH', {
          'anonymize_ip': false,
      });
    </script>

<script type="text/javascript" src="../../_static/tcs_theme.js"></script>
<script async defer src="https://buttons.github.io/buttons.js"></script>



</body>
</html>